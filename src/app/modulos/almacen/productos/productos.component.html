<div class="row">
    <div class="col-md-3">
      <app-buscar-producto></app-buscar-producto>
    </div>

    <div class="col-md-7">
        <div class="normal-form">
            <div>
                <button mat-flat-button (click)="openDialog()" color="primary" >
                  <mat-icon>add</mat-icon>Producto
                </button> 
            </div>
            <div align="end">
            
                <mat-form-field style="width: 500px">
                    <input matInput   name="searchTerm" [(ngModel)]="service.searchTerm" >
                    <mat-icon matSuffix>search</mat-icon>
                </mat-form-field>
                <span  *ngIf="service.loading$ | async">Loading...</span>
            </div>
        </div>
        <form>
           
          
            <table class="table table-striped">
              <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col" >Codigo de Barra</th>
                <th scope="col" >Familia</th>
                <th scope="col" >Sub-Familia</th>
                <th scope="col" >Marca</th>
                <th scope="col" >Descripcion</th>
                <th scope="col" >Stock</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let country of countries$ | async">
                <th scope="row">{{ country.id }}</th>
                <td>
                   <ngb-highlight [result]="country.cod_barra | number" [term]="service.searchTerm"></ngb-highlight>
                </td>
                <td>
                    <ngb-highlight [result]="country.familia" [term]="service.searchTerm"></ngb-highlight>
                 </td>
                 <td>
                    <ngb-highlight [result]="country.subfamilia" [term]="service.searchTerm"></ngb-highlight>
                 </td>
                <td><ngb-highlight [result]="country.marca " [term]="service.searchTerm"></ngb-highlight></td>
                <td><ngb-highlight [result]="country.descripcion " [term]="service.searchTerm"></ngb-highlight></td>
                
                <td><ngb-highlight [result]="country.stock | number" [term]="service.searchTerm"></ngb-highlight></td>
              </tr>
              </tbody>
            </table>
          
            <div class="d-flex justify-content-between p-2">
              <ngb-pagination
                [collectionSize]="(total$ | async)!" [(page)]="service.page" [pageSize]="service.pageSize">
              </ngb-pagination>
          
              <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="service.pageSize">
                <option [ngValue]="2">2 items per page</option>
                <option [ngValue]="4">4 items per page</option>
                <option [ngValue]="6">6 items per page</option>
              </select>
            </div>
          
          </form>
    </div>
    
    
</div>
  
  
  